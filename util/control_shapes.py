import maya.cmds as cmds


def diamond_shape(name):
    ctrl1 = cmds.circle(name=name + '_01Shape')
    cmds.setAttr(ctrl1[1] + '.degree', 1)
    cmds.setAttr(ctrl1[1] + '.sections', 4)
    ctrl2 = cmds.duplicate(ctrl1[0], name=name + '_02Shape')[0]
    cmds.setAttr(ctrl2 + '.rx', 90)
    ctrl3 = cmds.duplicate(ctrl2, name=name + '_03Shape')[0]
    cmds.setAttr(ctrl3 + '.rz', 90)

    cmds.makeIdentity(ctrl1, apply=True)
    cmds.makeIdentity(ctrl2, apply=True)
    cmds.makeIdentity(ctrl3, apply=True)

    transform = cmds.createNode('transform', name=name)

    shape1 = cmds.listRelatives(ctrl1, s=True)[0]
    shape2 = cmds.listRelatives(ctrl2, s=True)[0]
    shape3 = cmds.listRelatives(ctrl3, s=True)[0]

    cmds.parent(shape1, transform, r=True, shape=True)
    cmds.parent(shape2, transform, r=True, shape=True)
    cmds.parent(shape3, transform, r=True, shape=True)

    cmds.delete(ctrl1)
    cmds.delete(ctrl2)
    cmds.delete(ctrl3)

    return transform


def sphere_shape(name):
    ctrl1 = cmds.circle(name=name + '_01Shape')
    ctrl2 = cmds.duplicate(ctrl1[0], name=name + '_02Shape')[0]
    cmds.setAttr(ctrl2 + '.rx', 90)
    ctrl3 = cmds.duplicate(ctrl2, name=name + '_03Shape')[0]
    cmds.setAttr(ctrl3 + '.rz', 90)

    cmds.makeIdentity(ctrl1, apply=True)
    cmds.makeIdentity(ctrl2, apply=True)
    cmds.makeIdentity(ctrl3, apply=True)

    transform = cmds.createNode('transform', name=name)

    shape1 = cmds.listRelatives(ctrl1, s=True)[0]
    shape2 = cmds.listRelatives(ctrl2, s=True)[0]
    shape3 = cmds.listRelatives(ctrl3, s=True)[0]

    cmds.parent(shape1, transform, r=True, shape=True)
    cmds.parent(shape2, transform, r=True, shape=True)
    cmds.parent(shape3, transform, r=True, shape=True)

    cmds.delete(ctrl1)
    cmds.delete(ctrl2)
    cmds.delete(ctrl3)

    return transform


def gear_ctrl(name):
    points1 = [[2.5975156903303487e-17, 0.42420650462465426, 2.1436068835532312e-16], [-0.07366268648252944, 0.4177618546325686, 2.1110406783335593e-16], [-0.11836423974539217, 0.3252030759713798, 1.7198039010544555e-16], [-0.1730369424947683, 0.2997087759873136, 1.584979848618037e-16], [-0.27267468512116333, 0.32496103560264145, 1.642098141377543e-16], [-0.3249610356026414, 0.2726746851211634, 1.3778839447867933e-16], [-0.299708775987314, 0.17303694249476867, 9.150885422597558e-17], [-0.3252030759713791, 0.11836423974539222, 6.259574287587165e-17], [-0.4177618546325685, 0.07366268648252954, 3.722334289633067e-17], [-0.4242065046246541, 8.484563548205961e-17, 4.287432801619066e-32], [-0.3408162450527514, -0.06009509946654795, -3.178069155345885e-17], [-0.3252030759713791, -0.1183642397453921, -6.259574287587157e-17], [-0.36737360945555136, -0.21210325231232693, -1.0718034417766146e-16], [-0.3249610356026413, -0.27267468512116316, -1.3778839447867923e-16], [-0.2224520053073589, -0.26510797650483175, -1.401996985519866e-16], [-0.1730369424947683, -0.2997087759873136, -1.5849798486180368e-16], [-0.14508716951140518, -0.3986237220851706, -2.014331570340848e-16], [-0.07366268648252952, -0.41776185463256826, -2.1110406783335576e-16], [-8.842927295999715e-17, -0.3460738849895373, -1.8301770845195113e-16], [0.06009509946654782, -0.3408162450527518, -1.8023725822200955e-16], [0.14508716951140496, -0.3986237220851705, -2.0143315703408475e-16], [0.21210325231232682, -0.36737360945555114, -1.8564180168842874e-16], [0.2224520053073589, -0.26510797650483175, -1.401996985519866e-16], [0.2651079765048311, -0.22245200530735912, -1.1764151534613767e-16], [0.36737360945555103, -0.2121032523123269, -1.0718034417766146e-16], [0.3986237220851704, -0.14508716951140507, -7.331567335467656e-17], [0.3408162450527507, -0.060095099466548105, -3.178069155345892e-17], [0.34607388498953656, -6.921831319315417e-17, -3.6605411771834556e-32], [0.417761854632568, 0.07366268648252927, 3.722334289633054e-17], [0.3986237220851703, 0.14508716951140488, 7.331567335467646e-17], [0.29970877598731316, 0.17303694249476834, 9.150885422597541e-17], [0.2651079765048311, 0.22245200530735837, 1.1764151534613732e-16], [0.27267468512116294, 0.32496103560264084, 1.64209814137754e-16], [0.21210325231232682, 0.3673736094555508, 1.8564180168842857e-16], [0.11836423974539194, 0.32520307597137893, 1.719803901054451e-16], [0.06009509946654807, 0.34081624505275115, 1.802372582220092e-16], [9.661973119781079e-17, 0.4242065046246534, 2.143606883553227e-16]]
    points2 = [[1.4562177982594717e-17, 0.237818414137586, 1.2017476960475023e-16], [-0.05914303457760096, 0.23034691133998098, 1.1639925823167393e-16], [-0.11456989477982536, 0.20840186494620458, 1.0530995337737488e-16], [-0.16279790713443482, 0.17336216292941287, 8.760363684945914e-17], [-0.20079672825496708, 0.1274294786343304, 6.439286163465267e-17], [-0.22617875246053065, 0.07348993154381332, 3.713604610296171e-17], [-0.23734913382173475, 0.01493274177733642, 7.545836217797801e-18], [-0.23360599619586606, -0.04456272707379315, -2.2518506308574686e-17], [-0.21518453468625504, -0.10125815589263042, -5.116792826630638e-17], [-0.18324223746894694, -0.15159116237528625, -7.660228110858946e-17], [-0.1397861565536568, -0.1923991386126063, -9.722343090533681e-17], [-0.08754679732457832, -0.22111796937636147, -1.117356749755349e-16], [-0.029806550844998492, -0.23594314490919382, -1.1922715565195295e-16], [0.029806550844998492, -0.23594314490919382, -1.1922715565195295e-16], [0.0875467973245783, -0.22111796937636147, -1.117356749755349e-16], [0.1397861565536568, -0.19239913861260624, -9.72234309053368e-17], [0.18324223746894694, -0.15159116237528616, -7.660228110858942e-17], [0.21518453468625498, -0.10125815589263036, -5.116792826630635e-17], [0.23360599619586594, -0.0445627270737931, -2.2518506308574658e-17], [0.23734913382173461, 0.014932741777336453, 7.545836217797818e-18], [0.2261787524605305, 0.07348993154381332, 3.713604610296171e-17], [0.20079672825496694, 0.1274294786343304, 6.439286163465267e-17], [0.16279790713443465, 0.17336216292941284, 8.760363684945913e-17], [0.11456989477982525, 0.20840186494620455, 1.0530995337737487e-16], [0.05914303457760086, 0.23034691133998086, 1.1639925823167388e-16], [-7.784883968679139e-17, 0.23781841413758587, 1.2017476960475018e-16]]
    curve1 = cmds.curve(point=points1,
                        degree=1)
    curve2 = cmds.curve(point=points2,
                        degree=1)

    shape1 = cmds.listRelatives(curve1, s=True)[0]
    shape2 = cmds.listRelatives(curve2, s=True)[0]

    cmds.setAttr(shape1 + '.overrideEnabled', 1)
    cmds.setAttr(shape1 + '.overrideColor', 14)
    cmds.parent(shape2, curve1, relative=True, shape=True)
    cmds.delete(curve2)
    ctrl = cmds.rename(curve1, name)
    zero = cmds.createNode('transform', name=ctrl + '_ZERO')
    ofs = cmds.createNode('transform', name=ctrl + '_OFS')
    cmds.parent(ctrl, ofs)
    cmds.parent(ofs, zero)

    cmds.setAttr(ctrl + '.tx', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.ty', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.tz', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.rx', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.ry', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.rz', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.sx', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.sy', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.sz', lock=True, keyable=False, channelBox=False)
    cmds.setAttr(ctrl + '.v', lock=True, keyable=False, channelBox=False)

    return (zero, ofs, ctrl)
